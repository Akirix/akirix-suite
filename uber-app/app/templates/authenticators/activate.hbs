{{#akx-form action='activateDevice' isLocked=isLocked}}
    <div id="activate" class="viewport viewport-t-pane-secondary viewport-t-pane-secondary-with-toolbar scroll-y">
        <div class="pane-secondary-content">
            <h2>{{authenticator.name}}</h2>

            <h3>1. Scan this image in the app</h3>

            <div style="margin-left: auto; margin-right: auto; width: 350px;">
                {{totp-image authenticator.key session.user.name session.access_token}}
            </div>

            <h3>2. Type in code generated by the app</h3>

            <div class="form-group col-md-12 has-feedback">
                <label>&nbsp;</label>
                {{input value=data.code class='form-control' placeholder='XXXXX' autofocus=autofocus}}
                {{validation-feedback errors=errors.data.code validated=validated}}
            </div>

        </div>
    </div>
    <div class="viewport viewport-bottom navbar-toolbar">
        <div class="pane-actions">
            <ul class="list-h">
                <li>
                    <button {{action 'goBack'}} class="btn btn-default btn-sm navbar-secondary-btn" type="button">
                        Back
                    </button>
                </li>
            </ul>
            <ul class="list-h pull-right">
                <li>
                    {{view 'modal-confirmation'
                    class='btn btn-sm btn-warning navbar-secondary-btn'
                    button='Revoke'
                    prompt='Are you sure?'
                    action='revokeDevice'
                    actionContext=authenticator.id
                    headerTitle='Revoke Authenticator'
                    }}
                </li>
                <li>
                    <button class="btn btn-primary btn-sm navbar-secondary-btn" type="submit">Activate</button>
                </li>
            </ul>
        </div>
    </div>
{{/akx-form}}
